//
//  Comment.swift
//  RedditListings
//
//  Created by Kyle McGinnis on 2/22/23.
//

import Foundation

//[{"kind": "Listing", "data": {"after": null, "dist": 1, "modhash": "ndtupqm8bn55bf6942c4f1c3d745860ed5add4d64ea371104c", "geo_filter": "", "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "entertainment", "selftext": "", "user_reports": [], "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Queen Consort appears to criticise Roald Dahl changes", "link_flair_richtext": [], "subreddit_name_prefixed": "r/entertainment", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 73, "top_awarded_type": null, "parent_whitelist_status": "all_ads", "hide_score": true, "name": "t3_119zylg", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "author_fullname": "t2_4ejswkb1", "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/l-SMwK7SF2vO_ea7w7KESE3kzzW4XDKVqWgu5miqUow.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "mod_note": null, "created": 1677165007.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "telegraph.co.uk", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://www.telegraph.co.uk/news/2023/02/23/queen-consort-appears-criticise-roald-dahl-changes/", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": true, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/18TeNIzU5C53qX4ZLfXwLUVP39nn4v_HF-BeooicjNM.jpg?auto=webp&amp;v=enabled&amp;s=03d2be835c708c6a02942b6b3bb3bfa099a6cbd4", "width": 1024, "height": 536}, "resolutions": [{"url": "https://external-preview.redd.it/18TeNIzU5C53qX4ZLfXwLUVP39nn4v_HF-BeooicjNM.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=c21462127248c2a4006ef93778b286abef3ef543", "width": 108, "height": 56}, {"url": "https://external-preview.redd.it/18TeNIzU5C53qX4ZLfXwLUVP39nn4v_HF-BeooicjNM.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=a850bd7522b98b928ad72a2f40f091c942004975", "width": 216, "height": 113}, {"url": "https://external-preview.redd.it/18TeNIzU5C53qX4ZLfXwLUVP39nn4v_HF-BeooicjNM.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=fa51d415dd35b470c88cb2ece09ac51f741cfa4b", "width": 320, "height": 167}, {"url": "https://external-preview.redd.it/18TeNIzU5C53qX4ZLfXwLUVP39nn4v_HF-BeooicjNM.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=e6b0446ba05408a2cdefc4d7cf3ac4b4b49ed4e6", "width": 640, "height": 335}, {"url": "https://external-preview.redd.it/18TeNIzU5C53qX4ZLfXwLUVP39nn4v_HF-BeooicjNM.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=8f8dd7d75c9100e86c4c8a90d390be924ec3ad39", "width": 960, "height": 502}], "variants": {}, "id": "GLSJ7VqWwz3VIlt4uJvHPERofMO1hXduPw4z7JbNdNQ"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": true, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2qh0f", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "119zylg", "is_robot_indexable": true, "num_duplicates": 3, "report_reasons": null, "author": "TheTelegraph", "discussion_type": null, "num_comments": 0, "send_replies": true, "media": null, "contest_mode": false, "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/entertainment/comments/119zylg/queen_consort_appears_to_criticise_roald_dahl/", "whitelist_status": "all_ads", "stickied": false, "url": "https://www.telegraph.co.uk/news/2023/02/23/queen-consort-appears-criticise-roald-dahl-changes/", "subreddit_subscribers": 3720392, "created_utc": 1677165007.0, "num_crossposts": 0, "mod_reports": [], "is_video": false}}], "before": null}}, {"kind": "Listing", "data": {"after": null, "dist": null, "modhash": "ndtupqm8bn55bf6942c4f1c3d745860ed5add4d64ea371104c", "geo_filter": "", "children": [], "before": null}}]

struct CommentPage : Decodable {
    let kind: String
    let data: CommentPageData
    
    var children: [Comment] {
        return data.children
    }
}

struct CommentPageData: Decodable {
    let children: [Comment]
    let modhash: String
}

struct Comment: Decodable {
    let data: CommentData
    let kind: String?
}

struct CommentData: Decodable, Equatable, Hashable {
    let id: String
    let author: String
    let subtitle: String?
    let body: String?
    let thumbnail: String?
}
